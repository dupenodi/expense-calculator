<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expense Splitter - Sharath & Thejas</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üí∞ Expense Splitter</h1>
            <p>Split expenses between Sharath & Thejas</p>
        </header>

        <!-- Setup Card (shown only on first use) -->
        <div id="setup-card" class="setup-card" style="display: none;">
            <h3>üîó Connect to Google Sheets</h3>
            <p>To share expenses with Thejas, we need to connect to a Google Sheet:</p>
            <div class="setup-steps">
                <div class="step">
                    <strong>Step 1:</strong> <a href="#" id="create-sheet-link" target="_blank">Create a Google Sheet</a>
                </div>
                <div class="step">
                    <strong>Step 2:</strong> Copy the Sheet ID from the URL
                </div>
                <div class="step">
                    <strong>Step 3:</strong> Paste it below and click Connect
                </div>
            </div>
            <div class="setup-form">
                <input type="text" id="sheet-id" placeholder="Paste Google Sheet ID here..." />
                <button id="connect-sheet" class="btn-primary">Connect Sheet</button>
            </div>
            <div class="setup-help">
                <small>Sheet ID is the long string in your Google Sheets URL between /d/ and /edit</small>
            </div>
        </div>

        <!-- Balance Summary -->
        <div class="balance-card">
            <h2>Current Balance</h2>
            <div id="balance-summary">
                <div class="balance-item">
                    <span class="name">Sharath</span>
                    <span id="sharath-balance" class="amount">‚Çπ0.00</span>
                </div>
                <div class="balance-item">
                    <span class="name">Thejas</span>
                    <span id="thejas-balance" class="amount">‚Çπ0.00</span>
                </div>
            </div>
            <div id="settlement" class="settlement"></div>
        </div>

        <!-- Quick Add Buttons -->
        <div class="quick-add-card">
            <h3>Quick Add</h3>
            <div class="quick-buttons">
                <button type="button" class="quick-btn" data-desc="Rent" data-amount="15000">üè† Rent</button>
                <button type="button" class="quick-btn" data-desc="Electricity" data-amount="2000">‚ö° Electricity</button>
                <button type="button" class="quick-btn" data-desc="WiFi" data-amount="800">üåê WiFi</button>
                <button type="button" class="quick-btn" data-desc="Water" data-amount="500">üíß Water</button>
                <button type="button" class="quick-btn" data-desc="Cook/Maid" data-amount="3000">üç≥ Cook</button>
                <button type="button" class="quick-btn" data-desc="Groceries" data-amount="2500">üõí Groceries</button>
            </div>
        </div>

        <!-- Add Expense Form -->
        <div class="expense-form-card">
            <h3>Add New Expense</h3>
            <form id="expense-form">
                <div class="form-group">
                    <label for="description">Description</label>
                    <input type="text" id="description" placeholder="e.g., Groceries, Rent, Dinner" required>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="amount">Amount (‚Çπ)</label>
                        <input type="number" id="amount" step="0.01" placeholder="0.00" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="paid-by">Paid by</label>
                        <select id="paid-by" required>
                            <option value="">Select person</option>
                            <option value="sharath">Sharath</option>
                            <option value="thejas">Thejas</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="date-paid">Date Paid</label>
                        <input type="date" id="date-paid" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="split-type">Split Type</label>
                        <select id="split-type" required>
                            <option value="equal">Equal (50/50)</option>
                            <option value="60-40">60/40 (You pay more)</option>
                            <option value="40-60">40/60 (They pay more)</option>
                            <option value="70-30">70/30 (You pay more)</option>
                            <option value="30-70">30/70 (They pay more)</option>
                            <option value="custom">Custom Split</option>
                        </select>
                    </div>
                </div>
                
                <div id="custom-split" class="form-row" style="display: none;">
                    <div class="form-group">
                        <label for="sharath-percent">Sharath's %</label>
                        <input type="number" id="sharath-percent" min="0" max="100" placeholder="50">
                    </div>
                    
                    <div class="form-group">
                        <label for="thejas-percent">Thejas's %</label>
                        <input type="number" id="thejas-percent" min="0" max="100" placeholder="50">
                    </div>
                </div>
                
                <button type="submit" class="btn-primary">Add Expense</button>
            </form>
        </div>

        <!-- Total Summary -->
        <div class="summary-card">
            <h3>Monthly Summary</h3>
            <div class="summary-stats">
                <div class="stat-item">
                    <span class="stat-label">Total Expenses</span>
                    <span id="total-expenses" class="stat-value">‚Çπ0.00</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">This Month</span>
                    <span id="month-expenses" class="stat-value">‚Çπ0.00</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Avg per Day</span>
                    <span id="daily-avg" class="stat-value">‚Çπ0.00</span>
                </div>
            </div>
        </div>

        <!-- Expenses List -->
        <div class="expenses-card">
            <div class="expenses-header">
                <h3>Recent Expenses</h3>
                <div class="expenses-actions">
                    <input type="text" id="search-expenses" placeholder="Search expenses..." class="search-input">
                    <button id="export-btn" class="btn-secondary">Export Data</button>
                    <button id="clear-btn" class="btn-danger">Clear All</button>
                </div>
            </div>
            <div id="expenses-list" class="expenses-list">
                <div class="no-expenses">No expenses added yet</div>
            </div>
        </div>
    </div>

    <!-- Google Sheets API -->
    <script src="https://apis.google.com/js/api.js"></script>
    <script src="script.js"></script>
</body>
</html>
